---
const path = Astro.request.url.pathname;

const content = Astro.fetchContent('../globals/navigation.md');
console.log('content: ', content);
---

<section class="w-full px-8 text-gray-700 bg-white">
  <div class="container flex flex-col flex-wrap items-center justify-between py-5 mx-auto md:flex-row max-w-7xl">
    <div class="relative flex flex-col md:flex-row">
      <a href="/" class="flex items-center font-medium text-gray-900 active sm:mb-5 lg:w-auto lg:items-center lg:justify-center md:mb-0" aria-current="page">
        <span class="mx-auto text-xl font-black leading-none text-gray-900 select-none">buildmark<span class="text-green-500">.</span></span>
      </a>
      <nav class="flex flex-wrap items-center hidden mb-5 text-base sm:block md:mb-0 md:pl-8 md:ml-8 md:border-l md:border-gray-200">
        {content.primary_nav.map(item => {
          const link = item.page_link.replace('src/pages', '');
          const newLink = link.replace('index.md', '');
          const finalLink = newLink.replace('.md', '');
          return <a href={finalLink} class={`mr-5 leading-6 text-gray-600 active hover:text-gray-900 ${path === item.page_link ? 'font-bold' : 'font-medium'}`} aria-current="page">{item.page_name}</a>
          })}
        <a href="/" class={`mr-5 leading-6 text-gray-600 active hover:text-gray-900 ${path === '/' ? 'font-bold' : 'font-medium'}`} aria-current="page">Home</a>
        <!-- <a href="/about" class="mr-5 font-medium leading-6 text-gray-600 hover:text-gray-900">About</a> -->
        <!-- <a href="/services" class="mr-5 font-medium leading-6 text-gray-600 hover:text-gray-900">Services</a> -->
        <!-- <a href="/testimonals" class="mr-5 font-medium leading-6 text-gray-600 hover:text-gray-900">Testimonals</a> -->
        <!-- <a href="/faqs" class="mr-5 font-medium leading-6 text-gray-600 hover:text-gray-900">FAQs</a> -->
        <a href="/contact" class={`mr-5 leading-6 text-gray-600 active hover:text-gray-900 ${path === '/contact' ? 'font-bold' : 'font-medium'}`}>Contact</a>
      </nav>
    </div>
  </div>
</section>
